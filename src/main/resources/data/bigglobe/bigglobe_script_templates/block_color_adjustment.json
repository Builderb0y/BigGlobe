{
	"script": [
		"float*(",
			"red   = COLOR.redI",
			"green = COLOR.greenI",
			"blue  = COLOR.blueI",
			"adjustedMagicalness = 0.5I - 0.5I / (MAGIC ^ 2 + 1.0I)",
		")",
		"if (MAGIC > 0.0I:",
			"red   = mixLinear(red,   255.0I, adjustedMagicalness * 0.5I)",
			"green = mixLinear(green, 255.0I, adjustedMagicalness       )",
			"blue  = mixLinear(blue,  255.0I, adjustedMagicalness * 1.5I)",
		")",
		"else (",
			"red   *= 1.0I - adjustedMagicalness * 0.5I",
			"green *= 1.0I - adjustedMagicalness",
			"blue  *= 1.0I - adjustedMagicalness * 1.5I",
		")",
		"return(packI(roundInt(red), roundInt(green), roundInt(blue)))"
	],
	"inputs": [
		{ "name": "COLOR", "type": "int" },
		{ "name": "MAGIC", "type": "float" }
	]
}