{
	"script": [
		"double caveTop(int*(x, z):",
			"`bigglobe:overworld/basic_surface_y`(x, z)",
		")",
		"double caveBottom(int*(x, z):",
			"caveTop(x, z) - `bigglobe:overworld/cave`(x, z).depth",
		")",
		"int*(",
			"horizontalSize = random.nextInt(32, 96)",
			"minX = originX - horizontalSize",
			"minZ = originZ - horizontalSize",
			"maxX = originX + horizontalSize",
			"maxZ = originZ + horizontalSize",
		")",
		"double*(",
			"verticalSize = horizontalSize / 4.0L",

			"minY = max(",
				"caveBottom(minX, minZ),",
				"caveBottom(minX, maxZ),",
				"caveBottom(maxX, minZ),",
				"caveBottom(maxX, maxZ)",
			")",
			"+ verticalSize",

			"maxY = min(",
				"caveTop(minX, minZ),",
				"caveTop(minX, maxZ),",
				"caveTop(maxX, minZ),",
				"caveTop(maxX, maxZ)",
			")",
			"- verticalSize",
		")",
		"if (maxY > minY:",
			"double centerY = random.nextDouble(minY, maxY)",
			"pieces.add(",
				"ScriptStructurePiece.new(",
					"originX - horizontalSize,",
					"floorInt(centerY - verticalSize),",
					"originZ - horizontalSize,",
					"originX + horizontalSize,",
					"ceilInt(centerY + verticalSize),",
					"originZ + horizontalSize,",
					"TYPE,",
					"nbtCompound()",
				")",
			")",
		")"
	],
	"inputs": [
		{ "name": "TYPE", "type": "ScriptStructurePlacement" }
	]
}