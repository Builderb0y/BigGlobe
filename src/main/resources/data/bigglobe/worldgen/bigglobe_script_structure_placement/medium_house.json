{
	"placement": [
		"String randomColor(:",
			"random.switch(",
				"'white',      'orange', 'magenta', 'light_blue',",
				"'yellow',     'lime',   'pink',    'gray',",
				"'light_gray', 'cyan',   'purple',  'blue',",
				"'brown',      'green',  'red',     'black'",
			")",
		")",
		"WoodPalette palette = WoodPalette(data.palette.asString())",
		"Coordinator root = new()",
		"Coordinator flipX = root.flip2X()",
		"Coordinator flipZ = root.flip2Z()",
		"Coordinator flipXZ = root.flip4XZ()",

		"BlockState log = palette.logState(axis: 'y')",
		"BlockState planks = palette.planksState()",
		"BlockState slab = palette.slabState(type: 'bottom', waterlogged: false)",
		"BlockState northStairs = palette.stairsState(facing: 'north', half: 'bottom', shape: 'straight', waterlogged: false)",
		"BlockState southStairs = northStairs.with('facing', 'south')",
		"BlockState  westStairs = northStairs.with('facing',  'west')",
		"BlockState  eastStairs = northStairs.with('facing',  'east')",

		";cobblestone outline",
		"flipXZ.setBlockStateLine(4, 0, 2, 0, 0, 1, 5, 'minecraft:cobblestone')",
		"flipZ.setBlockStateLine(-2, 0, 8, 1, 0, 0, 5, 'minecraft:cobblestone')",
		"flipX.setBlockStateLine(2, 0, -2, 0, 0, 1, 5, 'minecraft:cobblestone')",
		"flipXZ.translate(",
			"2, 0, 6,",
			"2, 0, 7,",
			"3, 0, 6,",
			"3, 0, 2",
		")",
		".setBlockState(0, 0, 0, 'minecraft:cobblestone')",

		";wool floor",
		"fillBlockState(-1, 0, -7, 1, 0, 7, 'minecraft:white_wool')",
		"flipXZ.setBlockStateCuboid(2, 0, 3, 3, 0, 5, 'minecraft:white_wool')",

		";walls",
		"root.stack(4, 0, 0, 2).stack(0, 0, 4, 4).setBlockStateLine(-2, 1, -6, 0, 1, 0, 4, log)",
		"ArrayList walls = new(6)",
		"walls",
		".$add(root.translate(2, 0, 4))",
		".$add(root.translate(2, 0, -4))",
		".$add(root.translate(0, 0, 6).rotate1x(90))",
		".$add(root.translate(0, 0, -6).rotate1x(270))",
		".$add(root.translate(-2, 0, 4).rotate1x(180))",
		".$add(root.translate(-2, 0, -4).rotate1x(180))",
		"Coordinator allWalls = Coordinator.allOf(walls.(0), walls.(1), walls.(2), walls.(3), walls.(4), walls.(5))",
		"allWalls.stack(0, 0, 4, 2).setBlockStateLine(2, 1, -2, 0, 1, 0, 4, log)",
		"allWalls.stack(0, 0, 4, 2).setBlockStateLine(1, 1, -2, 0, 1, 0, 4, planks)",
		"allWalls.setBlockStateCuboid(2, 1, -1, 2, 4, 1, planks)",
		"flipX.setBlockStateCuboid(2, 1, -1, 2, 4, 1, planks)",

		";patio",
		"flipX.setBlockStateCuboid(3, 0, -1, 4, 0, 1, planks)",
		"flipX.setBlockState(4, 0,  0, northStairs.with('facing', 'west'))",
		"flipX.setBlockState(4, 1, -1, palette.fenceState(north: true, south: false, east: false, west: false, waterlogged: false))",
		"flipX.setBlockState(4, 1,  1, palette.fenceState(north: false, south: true, east: false, west: false, waterlogged: false))",

		";roof",
		"allWalls",
		".flip2Z()",
		".$setBlockStateLine(3, 4, 3, -1, 0,  0, 2, northStairs)",
		".$setBlockStateLine(3, 5, 2, -1, 0,  0, 3, northStairs)",
		".$setBlockStateLine(3, 6, 1, -1, 0,  0, 4, northStairs)",
		".$setBlockStateLine(3, 4, 2,  0, 1, -1, 2, northStairs.with('facing', 'south').with('half', 'top'))",
		"allWalls",
		".$setBlockStateLine(3, 7, 0, -1, 0, 0, 5, slab)",
		".$setBlockStateLine(3, 6, 0, -1, 0, 0, 5, planks)",
		".$setBlockStateCuboid(0, 5, -1, 2, 5, 1, planks)",
		"flipZ.translate(0, 0, 4).rotate4x90().setBlockStateLine(3, 4, 3, -1, 1, -1, 3, northStairs.with('shape', 'inner_left'))",
		"flipX",
		".$setBlockState(3, 4, 0, westStairs)",
		".$setBlockStateLine(2, 5, -1, 0, 0, 1, 3, westStairs)",
		".$setBlockStateLine(1, 6, -2, 0, 0, 1, 5, westStairs)",
		"fillBlockState(0, 6, -4, 0, 6, 4, planks)",
		"fillBlockState(0, 7, -4, 0, 7, 4, slab)",
		"fillBlockState(-1, 5, -5, 1, 5, 5, planks)",

		";interior upper trimming",
		"BlockState topEastStairs = eastStairs.with('half', 'top')",
		"allWalls",
		".$setBlockState(1, 4, 0, topEastStairs)",
		".$setBlockState(1, 4, -1, topEastStairs.with('shape', 'inner_left'))",
		".$setBlockState(1, 4, 1, topEastStairs.with('shape', 'inner_right'))",
		".$setBlockState(0, 4, -1, northStairs.with('half', 'top'))",
		".$setBlockState(0, 4, 1, southStairs.with('half', 'top'))",
		"flipZ.translate(0, 0, 4).rotate4x90().setBlockState(1, 4, 1, topEastStairs.with('shape', 'outer_right'))",
		"flipX.setBlockStateLine(1, 4, -2, 0, 0, 1, 5, topEastStairs)",

		";decorations",
		"allWalls.setBlockState(2, 2, 0, 'minecraft:glass_pane[north=true,south=true,east=false,west=false,waterlogged=false]')",
		"BlockState door = palette.doorState(facing: 'west', half: 'lower', hinge: random.if ('left') else ('right'), open: false, powered: false)",
		"setBlockState(2, 1, 0, door)",
		"setBlockState(2, 2, 0, door.with('half', 'upper'))",
		"door = door.with('facing', 'east').with('hinge', random.if ('left') else ('right'))",
		"setBlockState(-2, 1, 0, door)",
		"setBlockState(-2, 2, 0, door.with('half', 'upper'))",
		"flipZ.setBlockState(0, 4, 4, 'minecraft:lantern[hanging=true,waterlogged=false]')",
		"fillBlockState(0, 1, -4, 0, 1, 4, BlockState('minecraft:$randomColor()_carpet'))",

		";interior",
		"walls.shuffle()",
		"Coordinator(walls.(0)).setBlockState(0, 1, 0, 'minecraft:cartography_table')",
		"Coordinator(walls.(1)).setBlockState(0, 1, 0, 'minecraft:loom[facing=west]')",
		"Coordinator(walls.(2)).setBlockState(0, 1, 0, 'minecraft:lectern[facing=west,has_book=false,powered=false]')",
		"Coordinator(walls.(3))",
		".$setBlockState(1, 1, -1, northStairs)",
		".$setBlockState(1, 1,  1, southStairs)",
		".$setBlockState(1, 1,  0, palette.fenceState(north: false, south: false, east: false, west: false, waterlogged: false))",
		".$setBlockState(1, 2,  0, palette.pressurePlateState(powered: false))",
		"Coordinator(walls.(4))",
		".$setBlockStateLine(1, 1, -1, 0, 0, 1, 3, 'minecraft:bookshelf')",
		".$setBlockState(1, 2, random.if (-1) else (1), BlockTag('minecraft:flower_pots').random().getDefaultState())",
		"BlockState bed1 = BlockState('minecraft:$randomColor()_bed', facing: 'east', occupied: false, part: 'foot')",
		"BlockState bed2 = BlockState('minecraft:$randomColor()_bed', facing: 'east', occupied: false, part: 'foot')",
		"Coordinator(walls.(5))",
		".$setBlockState(0, 1, -1, bed1)",
		".$setBlockState(1, 1, -1, bed1.with('part', 'head'))",
		".$setBlockState(0, 1,  1, bed2)",
		".$setBlockState(1, 1,  1, bed2.with('part', 'head'))",
		".$setBlockState(1, 1,  0, 'minecraft:crafting_table')",

		";spawn villagers",
		"summon(0.5L, 1.0625L,  4.5L, 'minecraft:villager')",
		"summon(0.5L, 1.0625L, -3.5L, 'minecraft:villager')"
	]
}