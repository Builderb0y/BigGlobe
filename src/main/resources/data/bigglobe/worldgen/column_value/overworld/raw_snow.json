{
	"type": "bigglobe:script_2d",
	"value": {
		"script": {
			"debug_name": "RawSnow",
			"source": [
				"double sharpness = `overworld/hilliness`",
				"double curve(double value, double amplitude:",
					"value = abs(value)",
					"value *= mixLinear(value, 2.0L - value, sharpness)",
					"double offset = sharpness * 2.0L / abs(amplitude)",
					"value = sqrt(value ^ 2 + offset ^ 2)",
					"value = value * -2.0L + 1.0L",
					"value * amplitude",
				")",
				"sharpness * (",
					"+ curve(`overworld/raw_erosion_512`, 512.0L)",
					"- curve(`overworld/raw_erosion_256`, 256.0L)",
					"+ curve(`overworld/raw_erosion_128`, 128.0L)",
					"- curve(`overworld/raw_erosion_64`,   64.0L)",
					"+ curve(`overworld/raw_erosion_32`,   32.0L)",
					"- curve(`overworld/raw_erosion_16`,   16.0L)",
					"+ curve(`overworld/raw_erosion_8`,     8.0L)",
					"- curve(`overworld/raw_erosion_4`,     4.0L)",
					"+ curve(`overworld/raw_erosion_2`,     2.0L)",
				")"
			]
		}
	},
	"valid": "`overworld/max_y` > 0.0L"
}