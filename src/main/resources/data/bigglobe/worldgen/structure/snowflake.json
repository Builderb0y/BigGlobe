{
	"type": "bigglobe:script",
	"biomes": "#bigglobe:has_structure/snowflake",
	"spawn_overrides": {},
	"step": "raw_generation",
	"layout": [
		"int*(",
			"size = random.nextInt(2, 5)",
			"diameter = 3 ^ size",
			"radius = diameter >> 1",
			"minY = (",
				"ceilInt(",
					"+ `bigglobe:end/mountain_center`(originX, originZ)",
					"- `bigglobe:end/bridge_cloud_center_offset`(originX, originZ)",
					"+ `bigglobe:end/bridge_cloud_thickness`(originX, originZ)",
				")",
				"+ radius",
			")",
			"maxY = (",
				"ceilInt(",
					"+ `bigglobe:end/mountain_center`(originX, originZ)",
					"+ `bigglobe:end/bridge_cloud_center_offset`(originX, originZ)",
					"- `bigglobe:end/bridge_cloud_thickness`(originX, originZ)",
				")",
				"- radius",
			")",
		")",
		"if (maxY <= minY: return())",
		"int originY = random.nextInt(minY, maxY)",
		"pieces.add(",
			"ScriptStructurePiece.new(",
				"originX - radius,",
				"originY - radius,",
				"originZ - radius,",
				"originX + radius,",
				"originY + radius,",
				"originZ + radius,",
				"'bigglobe:snowflake',",
				"nbtCompound(",
					"scale: size.as(byte),",
					"hollow: random.nextBoolean(),",
					"state: 'minecraft:polished_deepslate'",
				")",
			")",
		")"
	]
}