{
	"type": "bigglobe:script",
	"value": {
		"biomes": "#bigglobe:has_structure/campfire",
		"spawn_overrides": {},
		"step": "surface_structures",
		"layout": [
			"String randomColor(:",
				"random.switch (",
					"'white',      'orange', 'magenta', 'light_blue',",
					"'yellow',     'lime',   'pink',    'gray',",
					"'light_gray', 'cyan',   'purple',  'blue',",
					"'brown',      'green',  'red',     'black'",
				")",
			")",

			"int originY = ceilInt(`bigglobe:overworld/surface_y`(originX, originZ))",
			"Biome biome = getBiome(originX, originY, originZ)",
			"WoodPalette palette = WoodPalette.randomForBiome(biome)",
			"String paletteID = palette.?id ?: return()",

			";campfire",
			"pieces.add(ScriptStructurePiece.new(",
				"originX - 4, originY - 1, originZ - 4, originX + 4, originY, originZ + 4,",
				"'bigglobe:campfire',",
				"nbtCompound(palette: paletteID)",
			"))",

			";tent",
			"random.if (",
				"double angle = random.nextDouble(tau)",
				"double radius = random.nextDouble(8.0L, 16.0L)",
				"int tentX = roundInt(cos(angle) * radius + originX)",
				"int tentZ = roundInt(sin(angle) * radius + originZ)",
				"pieces.add(",
					"ScriptStructurePiece.new(",
						"tentX - 2, originY, tentZ - 2, tentX + 2, originY + 3, tentZ + 2,",
						"'bigglobe:tent',",
						"nbtCompound(",
							"palette: paletteID,",
							"wool: 'minecraft:$randomColor()_wool'",
						")",
					")",
					".symmetrify(Symmetry.randomRotation())",
				")",

				";tent interior",
				"random.if (",
					"pieces.add(",
						"ScriptStructurePiece.new(",
							"tentX - 1, originY, tentZ - 1, tentX + 1, originY, tentZ + 1,",
							"'bigglobe:tent_interior',",
							"nbtCompound(bed: 'minecraft:$randomColor()_bed')",
						")",
						".symmetrify(Symmetry.randomRotation())",
					")",
				")",
			")"
		]
	}
}