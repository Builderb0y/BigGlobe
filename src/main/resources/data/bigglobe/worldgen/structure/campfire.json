{
	"type": "bigglobe:script",
	"value": {
		"biomes": "#bigglobe:has_structure/campfire",
		"spawn_overrides": {},
		"step": "surface_structures",
		"layout": {
			"script": [
				"String randomColor(:",
					"return(",
						"random.switch (",
							"'white',      'orange', 'magenta', 'light_blue',",
							"'yellow',     'lime',   'pink',    'gray',",
							"'light_gray', 'cyan',   'purple',  'blue',",
							"'brown',      'green',  'red',     'black'",
						")",
					")",
				")",

				"int y = ceilInt(max_y(x, z))",
				"String woodPalette = null",
				"Biome biome = getBiome(x, y, z)",
				"if      (biome == Biome('bigglobe:temperate_plains'): woodPalette = 'minecraft:birch'   )",
				"else if (biome == Biome('bigglobe:temperate_forest'): woodPalette = 'minecraft:oak'     )",
				"else if (biome == Biome('bigglobe:cold_plains'     ): woodPalette = 'minecraft:spruce'  )",
				"else if (biome == Biome('bigglobe:cold_forest'     ): woodPalette = 'minecraft:dark_oak')",
				"else if (biome == Biome('bigglobe:hot_plains'      ): woodPalette = 'minecraft:acacia'  )",
				"else if (biome == Biome('bigglobe:hot_forest'      ): woodPalette = 'minecraft:jungle'  )",
				"else (return())",

				";campfire",
				"pieces.add(ScriptStructurePiece.new(",
					"x - 4, y - 1, z - 4, x + 4, y, z + 4,",
					"'bigglobe:campfire',",
					"nbtCompound(",
						"palette: woodPalette",
					")",
				"))",

				";tent",
				"random.if (",
					"double angle = random.nextDouble(tau)",
					"double radius = random.nextDouble(8.0L, 16.0L)",
					"int tentX = int(cos(angle) * radius + x + 0.5L)",
					"int tentZ = int(sin(angle) * radius + z + 0.5L)",
					"pieces.add(",
						"ScriptStructurePiece.new(",
							"tentX - 2, y, tentZ - 2, tentX + 2, y + 3, tentZ + 2,",
							"'bigglobe:tent',",
							"nbtCompound(",
								"palette: woodPalette,",
								"wool: 'minecraft:$randomColor()_wool'",
							")",
						")",
						".withRotation(random.nextInt(4) * 90)",
					")",

					";tent interior",
					"random.if (",
						"pieces.add(",
							"ScriptStructurePiece.new(",
								"tentX - 1, y, tentZ - 1, tentX + 1, y, tentZ + 1,",
								"'bigglobe:tent_interior',",
								"nbtCompound(",
									"bed: 'minecraft:$randomColor()_bed'",
								")",
							")",
							".withRotation(random.nextInt(4) * 90)",
						")",
					")",
				")"
			]
		}
	}
}