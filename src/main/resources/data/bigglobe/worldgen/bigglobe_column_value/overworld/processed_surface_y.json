{
	"type": "bigglobe:script",
	"params": {
		"type": "double",
		"is_3d": false
	},
	"script": [
		"double height = `bigglobe:overworld/basic_surface_y`",
		"double scalar = max(unmixLinear(`bigglobe:overworld/river_depth` * 0.5L, 0.0L, `bigglobe:overworld/river_dip`), 0.0L)",
		"double dunes = `bigglobe:overworld/dune_scalar` * scalar",
		"if (dunes > 0.0L:",
			"height += `bigglobe:overworld/dune` * dunes",
		")",
		"double threshold = `bigglobe:overworld/desert_crack_threshold` * scalar",
		"if (threshold > 0.0L && `bigglobe:overworld/desert_cracks`.soft_distance > 1.0 - threshold:",
			"height -= 1.0L",
		")",
		"return(height)"
	]
}